{"dependencies":[{"name":"react-native-web/dist/exports/NativeModules","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MRft9soElPgDBIQyAww27iefYeU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeWebDistExportsNativeModules = require(_dependencyMap[0], \"react-native-web/dist/exports/NativeModules\");\n  var NativeModules = _interopDefault(_reactNativeWebDistExportsNativeModules);\n  var _reactNativeWebDistIndex = require(_dependencyMap[1], \"react-native-web/dist/index\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  const {\n    WebRTCModule\n  } = NativeModules.default;\n\n  /**\n   * Type declaration for a permissions descriptor.\n   */\n\n  /**\n   * Class implementing a subset of W3C's Permissions API as defined by:\n   * https://www.w3.org/TR/permissions/\n   */\n  class Permissions {\n    constructor() {\n      _defineProperty(this, \"RESULT\", {\n        DENIED: 'denied',\n        GRANTED: 'granted',\n        PROMPT: 'prompt'\n      });\n      _defineProperty(this, \"VALID_PERMISSIONS\", ['camera', 'microphone']);\n      _defineProperty(this, \"_lastReq\", Promise.resolve());\n    }\n    /**\n     * Possible result values for {@link query}, in accordance with:\n     * https://www.w3.org/TR/permissions/#status-of-a-permission\n     */\n    /**\n     * This implementation only supports requesting these permissions, a subset\n     * of: https://www.w3.org/TR/permissions/#permission-registry\n     */\n    /**\n     * Helper for requesting Android permissions. On Android only one permission\n     * can be requested at a time (unless the multi-permission API is used,\n     * but we are not using that for symmetry with the W3C API for querying)\n     * so we'll queue them up.\n     *\n     * @param perm - The requested permission from\n     * {@link PermissionsAndroid.PERMISSIONS}\n     * https://facebook.github.io/react-native/docs/permissionsandroid#permissions-that-require-prompting-the-user\n     */\n    _requestPermissionAndroid(perm) {\n      return new Promise(resolve => {\n        _reactNativeWebDistIndex.PermissionsAndroid.request(perm).then(granted => resolve(granted === _reactNativeWebDistIndex.PermissionsAndroid.RESULTS.GRANTED), () => resolve(false));\n      });\n    }\n\n    /**\n     * Validates the given permission descriptor.\n     */\n    _validatePermissionDescriptior(permissionDesc) {\n      if (typeof permissionDesc !== 'object') {\n        throw new TypeError('Argument 1 of Permissions.query is not an object.');\n      }\n      if (typeof permissionDesc.name === 'undefined') {\n        throw new TypeError('Missing required \\'name\\' member of PermissionDescriptor.');\n      }\n      if (this.VALID_PERMISSIONS.indexOf(permissionDesc.name) === -1) {\n        throw new TypeError('\\'name\\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.');\n      }\n    }\n\n    /**\n     * Method for querying the status of a permission, according to:\n     * https://www.w3.org/TR/permissions/#permissions-interface\n     */\n    query(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (Platform.default.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        return new Promise(resolve => {\n          _reactNativeWebDistIndex.PermissionsAndroid.check(perm).then(granted => resolve(granted ? this.RESULT.GRANTED : this.RESULT.PROMPT), () => resolve(this.RESULT.PROMPT));\n        });\n      } else if (Platform.default.OS === 'ios' || Platform.default.OS === 'macos') {\n        return WebRTCModule.checkPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n\n    /**\n     * Custom method NOT defined by W3C's permissions API, which allows the\n     * caller to request a permission.\n     */\n    request(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (Platform.default.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        const requestPermission = () => this._requestPermissionAndroid(perm);\n        this._lastReq = this._lastReq.then(requestPermission, requestPermission);\n        return this._lastReq;\n      } else if (Platform.default.OS === 'ios' || Platform.default.OS === 'macos') {\n        return WebRTCModule.requestPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n  }\n  var _default = new Permissions();\n});","lineCount":142,"map":[[12,2,108,0,"Object"],[12,8,108,0],[12,9,108,0,"defineProperty"],[12,23,108,0],[12,24,108,0,"exports"],[12,31,108,0],[13,4,108,0,"enumerable"],[13,14,108,0],[14,4,108,0,"get"],[14,7,108,0],[14,18,108,0,"get"],[14,19,108,0],[15,6,108,0],[15,13,108,0,"_default"],[15,21,108,0],[16,4,108,0],[17,2,108,0],[18,2,108,33],[18,6,108,33,"_reactNativeWebDistExportsNativeModules"],[18,45,108,33],[18,48,108,33,"require"],[18,55,108,33],[18,56,108,33,"_dependencyMap"],[18,70,108,33],[19,2,108,33],[19,6,108,33,"NativeModules"],[19,19,108,33],[19,22,108,33,"_interopDefault"],[19,37,108,33],[19,38,108,33,"_reactNativeWebDistExportsNativeModules"],[19,77,108,33],[20,2,108,33],[20,6,108,33,"_reactNativeWebDistIndex"],[20,30,108,33],[20,33,108,33,"require"],[20,40,108,33],[20,41,108,33,"_dependencyMap"],[20,55,108,33],[21,2,108,33],[21,6,108,33,"_reactNativeWebDistExportsPlatform"],[21,40,108,33],[21,43,108,33,"require"],[21,50,108,33],[21,51,108,33,"_dependencyMap"],[21,65,108,33],[22,2,108,33],[22,6,108,33,"Platform"],[22,14,108,33],[22,17,108,33,"_interopDefault"],[22,32,108,33],[22,33,108,33,"_reactNativeWebDistExportsPlatform"],[22,67,108,33],[23,2,1,0],[23,11,1,9,"_defineProperty"],[23,26,1,24,"_defineProperty"],[23,27,1,25,"obj"],[23,30,1,28],[23,32,1,30,"key"],[23,35,1,33],[23,37,1,35,"value"],[23,42,1,40],[23,44,1,42],[24,4,1,44],[24,8,1,48,"key"],[24,11,1,51],[24,15,1,55,"obj"],[24,18,1,58],[24,20,1,60],[25,6,1,62,"Object"],[25,12,1,68],[25,13,1,69,"defineProperty"],[25,27,1,83],[25,28,1,84,"obj"],[25,31,1,87],[25,33,1,89,"key"],[25,36,1,92],[25,38,1,94],[26,8,1,96,"value"],[26,13,1,101],[26,15,1,103,"value"],[26,20,1,108],[27,8,1,110,"enumerable"],[27,18,1,120],[27,20,1,122],[27,24,1,126],[28,8,1,128,"configurable"],[28,20,1,140],[28,22,1,142],[28,26,1,146],[29,8,1,148,"writable"],[29,16,1,156],[29,18,1,158],[30,6,1,163],[30,7,1,164],[30,8,1,165],[31,4,1,167],[31,5,1,168],[31,11,1,174],[32,6,1,176,"obj"],[32,9,1,179],[32,10,1,180,"key"],[32,13,1,183],[32,14,1,184],[32,17,1,187,"value"],[32,22,1,192],[33,4,1,194],[34,4,1,196],[34,11,1,203,"obj"],[34,14,1,206],[35,2,1,208],[36,2,3,0],[36,8,3,6],[37,4,4,2,"WebRTCModule"],[38,2,5,0],[38,3,5,1],[38,6,5,4,"NativeModules"],[38,19,5,17],[38,20,5,17,"default"],[38,27,5,17],[40,2,7,0],[41,0,8,0],[42,0,9,0],[44,2,11,0],[45,0,12,0],[46,0,13,0],[47,0,14,0],[48,2,15,0],[48,8,15,6,"Permissions"],[48,19,15,17],[48,20,15,18],[49,4,16,2,"constructor"],[49,15,16,13,"constructor"],[49,16,16,13],[49,18,16,16],[50,6,17,4,"_defineProperty"],[50,21,17,19],[50,22,17,20],[50,26,17,24],[50,28,17,26],[50,36,17,34],[50,38,17,36],[51,8,18,6,"DENIED"],[51,14,18,12],[51,16,18,14],[51,24,18,22],[52,8,19,6,"GRANTED"],[52,15,19,13],[52,17,19,15],[52,26,19,24],[53,8,20,6,"PROMPT"],[53,14,20,12],[53,16,20,14],[54,6,21,4],[54,7,21,5],[54,8,21,6],[55,6,22,4,"_defineProperty"],[55,21,22,19],[55,22,22,20],[55,26,22,24],[55,28,22,26],[55,47,22,45],[55,49,22,47],[55,50,22,48],[55,58,22,56],[55,60,22,58],[55,72,22,70],[55,73,22,71],[55,74,22,72],[56,6,23,4,"_defineProperty"],[56,21,23,19],[56,22,23,20],[56,26,23,24],[56,28,23,26],[56,38,23,36],[56,40,23,38,"Promise"],[56,47,23,45],[56,48,23,46,"resolve"],[56,55,23,53],[56,56,23,54],[56,57,23,55],[56,58,23,56],[57,4,24,2],[58,4,25,2],[59,0,26,0],[60,0,27,0],[61,0,28,0],[62,4,29,2],[63,0,30,0],[64,0,31,0],[65,0,32,0],[66,4,33,2],[67,0,34,0],[68,0,35,0],[69,0,36,0],[70,0,37,0],[71,0,38,0],[72,0,39,0],[73,0,40,0],[74,0,41,0],[75,0,42,0],[76,4,43,2,"_requestPermissionAndroid"],[76,29,43,27,"_requestPermissionAndroid"],[76,30,43,28,"perm"],[76,34,43,32],[76,36,43,34],[77,6,44,4],[77,13,44,11],[77,17,44,15,"Promise"],[77,24,44,22],[77,25,44,23,"resolve"],[77,32,44,30],[77,36,44,34],[78,8,45,6,"PermissionsAndroid"],[78,32,45,24],[78,33,45,24,"PermissionsAndroid"],[78,51,45,24],[78,52,45,25,"request"],[78,59,45,32],[78,60,45,33,"perm"],[78,64,45,37],[78,65,45,38],[78,66,45,39,"then"],[78,70,45,43],[78,71,45,44,"granted"],[78,78,45,51],[78,82,45,55,"resolve"],[78,89,45,62],[78,90,45,63,"granted"],[78,97,45,70],[78,102,45,75,"PermissionsAndroid"],[78,126,45,93],[78,127,45,93,"PermissionsAndroid"],[78,145,45,93],[78,146,45,94,"RESULTS"],[78,153,45,101],[78,154,45,102,"GRANTED"],[78,161,45,109],[78,162,45,110],[78,164,45,112],[78,170,45,118,"resolve"],[78,177,45,125],[78,178,45,126],[78,183,45,131],[78,184,45,132],[78,185,45,133],[79,6,46,4],[79,7,46,5],[79,8,46,6],[80,4,47,2],[82,4,49,2],[83,0,50,0],[84,0,51,0],[85,4,52,2,"_validatePermissionDescriptior"],[85,34,52,32,"_validatePermissionDescriptior"],[85,35,52,33,"permissionDesc"],[85,49,52,47],[85,51,52,49],[86,6,53,4],[86,10,53,8],[86,17,53,15,"permissionDesc"],[86,31,53,29],[86,36,53,34],[86,44,53,42],[86,46,53,44],[87,8,54,6],[87,14,54,12],[87,18,54,16,"TypeError"],[87,27,54,25],[87,28,54,26],[87,79,54,77],[87,80,54,78],[88,6,55,4],[89,6,56,4],[89,10,56,8],[89,17,56,15,"permissionDesc"],[89,31,56,29],[89,32,56,30,"name"],[89,36,56,34],[89,41,56,39],[89,52,56,50],[89,54,56,52],[90,8,57,6],[90,14,57,12],[90,18,57,16,"TypeError"],[90,27,57,25],[90,28,57,26],[90,87,57,85],[90,88,57,86],[91,6,58,4],[92,6,59,4],[92,10,59,8],[92,14,59,12],[92,15,59,13,"VALID_PERMISSIONS"],[92,32,59,30],[92,33,59,31,"indexOf"],[92,40,59,38],[92,41,59,39,"permissionDesc"],[92,55,59,53],[92,56,59,54,"name"],[92,60,59,58],[92,61,59,59],[92,66,59,64],[92,67,59,65],[92,68,59,66],[92,70,59,68],[93,8,60,6],[93,14,60,12],[93,18,60,16,"TypeError"],[93,27,60,25],[93,28,60,26],[93,122,60,120],[93,123,60,121],[94,6,61,4],[95,4,62,2],[97,4,64,2],[98,0,65,0],[99,0,66,0],[100,0,67,0],[101,4,68,2,"query"],[101,9,68,7,"query"],[101,10,68,8,"permissionDesc"],[101,24,68,22],[101,26,68,24],[102,6,69,4],[102,10,69,8],[103,8,70,6],[103,12,70,10],[103,13,70,11,"_validatePermissionDescriptior"],[103,43,70,41],[103,44,70,42,"permissionDesc"],[103,58,70,56],[103,59,70,57],[104,6,71,4],[104,7,71,5],[104,8,71,6],[104,15,71,13,"e"],[104,16,71,14],[104,18,71,16],[105,8,72,6],[105,15,72,13,"Promise"],[105,22,72,20],[105,23,72,21,"reject"],[105,29,72,27],[105,30,72,28,"e"],[105,31,72,29],[105,32,72,30],[106,6,73,4],[107,6,74,4],[107,10,74,8,"Platform"],[107,18,74,16],[107,19,74,16,"default"],[107,26,74,16],[107,27,74,17,"OS"],[107,29,74,19],[107,34,74,24],[107,43,74,33],[107,45,74,35],[108,8,75,6],[108,14,75,12,"perm"],[108,18,75,16],[108,21,75,19,"permissionDesc"],[108,35,75,33],[108,36,75,34,"name"],[108,40,75,38],[108,45,75,43],[108,53,75,51],[108,56,75,54,"PermissionsAndroid"],[108,80,75,72],[108,81,75,72,"PermissionsAndroid"],[108,99,75,72],[108,100,75,73,"PERMISSIONS"],[108,111,75,84],[108,112,75,85,"CAMERA"],[108,118,75,91],[108,121,75,94,"PermissionsAndroid"],[108,145,75,112],[108,146,75,112,"PermissionsAndroid"],[108,164,75,112],[108,165,75,113,"PERMISSIONS"],[108,176,75,124],[108,177,75,125,"RECORD_AUDIO"],[108,189,75,137],[109,8,76,6],[109,15,76,13],[109,19,76,17,"Promise"],[109,26,76,24],[109,27,76,25,"resolve"],[109,34,76,32],[109,38,76,36],[110,10,77,8,"PermissionsAndroid"],[110,34,77,26],[110,35,77,26,"PermissionsAndroid"],[110,53,77,26],[110,54,77,27,"check"],[110,59,77,32],[110,60,77,33,"perm"],[110,64,77,37],[110,65,77,38],[110,66,77,39,"then"],[110,70,77,43],[110,71,77,44,"granted"],[110,78,77,51],[110,82,77,55,"resolve"],[110,89,77,62],[110,90,77,63,"granted"],[110,97,77,70],[110,100,77,73],[110,104,77,77],[110,105,77,78,"RESULT"],[110,111,77,84],[110,112,77,85,"GRANTED"],[110,119,77,92],[110,122,77,95],[110,126,77,99],[110,127,77,100,"RESULT"],[110,133,77,106],[110,134,77,107,"PROMPT"],[110,140,77,113],[110,141,77,114],[110,143,77,116],[110,149,77,122,"resolve"],[110,156,77,129],[110,157,77,130],[110,161,77,134],[110,162,77,135,"RESULT"],[110,168,77,141],[110,169,77,142,"PROMPT"],[110,175,77,148],[110,176,77,149],[110,177,77,150],[111,8,78,6],[111,9,78,7],[111,10,78,8],[112,6,79,4],[112,7,79,5],[112,13,79,11],[112,17,79,15,"Platform"],[112,25,79,23],[112,26,79,23,"default"],[112,33,79,23],[112,34,79,24,"OS"],[112,36,79,26],[112,41,79,31],[112,46,79,36],[112,50,79,40,"Platform"],[112,58,79,48],[112,59,79,48,"default"],[112,66,79,48],[112,67,79,49,"OS"],[112,69,79,51],[112,74,79,56],[112,81,79,63],[112,83,79,65],[113,8,80,6],[113,15,80,13,"WebRTCModule"],[113,27,80,25],[113,28,80,26,"checkPermission"],[113,43,80,41],[113,44,80,42,"permissionDesc"],[113,58,80,56],[113,59,80,57,"name"],[113,63,80,61],[113,64,80,62],[114,6,81,4],[114,7,81,5],[114,13,81,11],[115,8,82,6],[115,15,82,13,"Promise"],[115,22,82,20],[115,23,82,21,"reject"],[115,29,82,27],[115,30,82,28],[115,34,82,32,"TypeError"],[115,43,82,41],[115,44,82,42],[115,67,82,65],[115,68,82,66],[115,69,82,67],[116,6,83,4],[117,4,84,2],[119,4,86,2],[120,0,87,0],[121,0,88,0],[122,0,89,0],[123,4,90,2,"request"],[123,11,90,9,"request"],[123,12,90,10,"permissionDesc"],[123,26,90,24],[123,28,90,26],[124,6,91,4],[124,10,91,8],[125,8,92,6],[125,12,92,10],[125,13,92,11,"_validatePermissionDescriptior"],[125,43,92,41],[125,44,92,42,"permissionDesc"],[125,58,92,56],[125,59,92,57],[126,6,93,4],[126,7,93,5],[126,8,93,6],[126,15,93,13,"e"],[126,16,93,14],[126,18,93,16],[127,8,94,6],[127,15,94,13,"Promise"],[127,22,94,20],[127,23,94,21,"reject"],[127,29,94,27],[127,30,94,28,"e"],[127,31,94,29],[127,32,94,30],[128,6,95,4],[129,6,96,4],[129,10,96,8,"Platform"],[129,18,96,16],[129,19,96,16,"default"],[129,26,96,16],[129,27,96,17,"OS"],[129,29,96,19],[129,34,96,24],[129,43,96,33],[129,45,96,35],[130,8,97,6],[130,14,97,12,"perm"],[130,18,97,16],[130,21,97,19,"permissionDesc"],[130,35,97,33],[130,36,97,34,"name"],[130,40,97,38],[130,45,97,43],[130,53,97,51],[130,56,97,54,"PermissionsAndroid"],[130,80,97,72],[130,81,97,72,"PermissionsAndroid"],[130,99,97,72],[130,100,97,73,"PERMISSIONS"],[130,111,97,84],[130,112,97,85,"CAMERA"],[130,118,97,91],[130,121,97,94,"PermissionsAndroid"],[130,145,97,112],[130,146,97,112,"PermissionsAndroid"],[130,164,97,112],[130,165,97,113,"PERMISSIONS"],[130,176,97,124],[130,177,97,125,"RECORD_AUDIO"],[130,189,97,137],[131,8,98,6],[131,14,98,12,"requestPermission"],[131,31,98,29],[131,34,98,32,"requestPermission"],[131,35,98,32],[131,40,98,38],[131,44,98,42],[131,45,98,43,"_requestPermissionAndroid"],[131,70,98,68],[131,71,98,69,"perm"],[131,75,98,73],[131,76,98,74],[132,8,99,6],[132,12,99,10],[132,13,99,11,"_lastReq"],[132,21,99,19],[132,24,99,22],[132,28,99,26],[132,29,99,27,"_lastReq"],[132,37,99,35],[132,38,99,36,"then"],[132,42,99,40],[132,43,99,41,"requestPermission"],[132,60,99,58],[132,62,99,60,"requestPermission"],[132,79,99,77],[132,80,99,78],[133,8,100,6],[133,15,100,13],[133,19,100,17],[133,20,100,18,"_lastReq"],[133,28,100,26],[134,6,101,4],[134,7,101,5],[134,13,101,11],[134,17,101,15,"Platform"],[134,25,101,23],[134,26,101,23,"default"],[134,33,101,23],[134,34,101,24,"OS"],[134,36,101,26],[134,41,101,31],[134,46,101,36],[134,50,101,40,"Platform"],[134,58,101,48],[134,59,101,48,"default"],[134,66,101,48],[134,67,101,49,"OS"],[134,69,101,51],[134,74,101,56],[134,81,101,63],[134,83,101,65],[135,8,102,6],[135,15,102,13,"WebRTCModule"],[135,27,102,25],[135,28,102,26,"requestPermission"],[135,45,102,43],[135,46,102,44,"permissionDesc"],[135,60,102,58],[135,61,102,59,"name"],[135,65,102,63],[135,66,102,64],[136,6,103,4],[136,7,103,5],[136,13,103,11],[137,8,104,6],[137,15,104,13,"Promise"],[137,22,104,20],[137,23,104,21,"reject"],[137,29,104,27],[137,30,104,28],[137,34,104,32,"TypeError"],[137,43,104,41],[137,44,104,42],[137,67,104,65],[137,68,104,66],[137,69,104,67],[138,6,105,4],[139,4,106,2],[140,2,107,0],[141,2,108,0],[141,6,108,0,"_default"],[141,14,108,0],[141,17,108,15],[141,21,108,19,"Permissions"],[141,32,108,30],[141,33,108,31],[141,34,108,32],[142,0,108,33],[142,3]],"functionMap":{"names":["_defineProperty","<global>","Permissions","constructor","_requestPermissionAndroid","Promise$argument_0","PermissionsAndroid.request.then$argument_0","PermissionsAndroid.request.then$argument_1","_validatePermissionDescriptior","query","PermissionsAndroid.check.then$argument_0","PermissionsAndroid.check.then$argument_1","request","requestPermission"],"mappings":"AAA,iNC;ACc;ECC;GDQ;EEmB;uBCC;4CCC,kED,EE,oBF;KDC;GFC;EMK;GNU;EOM;yBJQ;4CKC,sEL,EM,iCN;OIC;GPM;EUM;gCCQ,0CD;GVQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}