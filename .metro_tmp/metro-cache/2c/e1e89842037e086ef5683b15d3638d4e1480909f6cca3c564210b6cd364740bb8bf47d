{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Keyboard","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4H7FkS8ywD5HLTNk4ggLktoHubI=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TextInput","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"DmXc1F5dPYWntVgqRwh73w0VngA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useKeyboardManager;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _reactNativeWebDistExportsKeyboard = require(_dependencyMap[1], \"react-native-web/dist/exports/Keyboard\");\n  var Keyboard = _interopDefault(_reactNativeWebDistExportsKeyboard);\n  var _reactNativeWebDistExportsTextInput = require(_dependencyMap[2], \"react-native-web/dist/exports/TextInput\");\n  var TextInput = _interopDefault(_reactNativeWebDistExportsTextInput);\n  function useKeyboardManager(isEnabled) {\n    // Numeric id of the previously focused text input\n    // When a gesture didn't change the tab, we can restore the focused input with this\n    const previouslyFocusedTextInputRef = React.useRef(undefined);\n    const startTimestampRef = React.useRef(0);\n    const keyboardTimeoutRef = React.useRef();\n    const clearKeyboardTimeout = React.useCallback(() => {\n      if (keyboardTimeoutRef.current !== undefined) {\n        clearTimeout(keyboardTimeoutRef.current);\n        keyboardTimeoutRef.current = undefined;\n      }\n    }, []);\n    const onPageChangeStart = React.useCallback(() => {\n      if (!isEnabled()) {\n        return;\n      }\n      clearKeyboardTimeout();\n      const input = TextInput.default.State.currentlyFocusedInput();\n\n      // When a page change begins, blur the currently focused input\n      input === null || input === void 0 ? void 0 : input.blur();\n\n      // Store the id of this input so we can refocus it if change was cancelled\n      previouslyFocusedTextInputRef.current = input;\n\n      // Store timestamp for touch start\n      startTimestampRef.current = Date.now();\n    }, [clearKeyboardTimeout, isEnabled]);\n    const onPageChangeConfirm = React.useCallback(force => {\n      if (!isEnabled()) {\n        return;\n      }\n      clearKeyboardTimeout();\n      if (force) {\n        // Always dismiss input, even if we don't have a ref to it\n        // We might not have the ref if onPageChangeStart was never called\n        // This can happen if page change was not from a gesture\n        Keyboard.default.dismiss();\n      } else {\n        const input = previouslyFocusedTextInputRef.current;\n\n        // Dismiss the keyboard only if an input was a focused before\n        // This makes sure we don't dismiss input on going back and focusing an input\n        input === null || input === void 0 ? void 0 : input.blur();\n      }\n\n      // Cleanup the ID on successful page change\n      previouslyFocusedTextInputRef.current = undefined;\n    }, [clearKeyboardTimeout, isEnabled]);\n    const onPageChangeCancel = React.useCallback(() => {\n      if (!isEnabled()) {\n        return;\n      }\n      clearKeyboardTimeout();\n\n      // The page didn't change, we should restore the focus of text input\n      const input = previouslyFocusedTextInputRef.current;\n      if (input) {\n        // If the interaction was super short we should make sure keyboard won't hide again.\n\n        // Too fast input refocus will result only in keyboard flashing on screen and hiding right away.\n        // During first ~100ms keyboard will be dismissed no matter what,\n        // so we have to make sure it won't interrupt input refocus logic.\n        // That's why when the interaction is shorter than 100ms we add delay so it won't hide once again.\n        // Subtracting timestamps makes us sure the delay is executed only when needed.\n        if (Date.now() - startTimestampRef.current < 100) {\n          keyboardTimeoutRef.current = setTimeout(() => {\n            input === null || input === void 0 ? void 0 : input.focus();\n            previouslyFocusedTextInputRef.current = undefined;\n          }, 100);\n        } else {\n          input === null || input === void 0 ? void 0 : input.focus();\n          previouslyFocusedTextInputRef.current = undefined;\n        }\n      }\n    }, [clearKeyboardTimeout, isEnabled]);\n    React.useEffect(() => {\n      return () => clearKeyboardTimeout();\n    }, [clearKeyboardTimeout]);\n    return {\n      onPageChangeStart,\n      onPageChangeConfirm,\n      onPageChangeCancel\n    };\n  }\n});","lineCount":124,"map":[[27,2,3,15,"Object"],[27,8,3,15],[27,9,3,15,"defineProperty"],[27,23,3,15],[27,24,3,15,"exports"],[27,31,3,15],[28,4,3,15,"enumerable"],[28,14,3,15],[29,4,3,15,"get"],[29,7,3,15],[29,18,3,15,"get"],[29,19,3,15],[30,6,3,15],[30,13,3,15,"useKeyboardManager"],[30,31,3,15],[31,4,3,15],[32,2,3,15],[33,2,1,0],[33,6,1,0,"_react"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"React"],[34,11,1,0],[34,14,1,0,"_interopNamespace"],[34,31,1,0],[34,32,1,0,"_react"],[34,38,1,0],[35,2,1,31],[35,6,1,31,"_reactNativeWebDistExportsKeyboard"],[35,40,1,31],[35,43,1,31,"require"],[35,50,1,31],[35,51,1,31,"_dependencyMap"],[35,65,1,31],[36,2,1,31],[36,6,1,31,"Keyboard"],[36,14,1,31],[36,17,1,31,"_interopDefault"],[36,32,1,31],[36,33,1,31,"_reactNativeWebDistExportsKeyboard"],[36,67,1,31],[37,2,1,31],[37,6,1,31,"_reactNativeWebDistExportsTextInput"],[37,41,1,31],[37,44,1,31,"require"],[37,51,1,31],[37,52,1,31,"_dependencyMap"],[37,66,1,31],[38,2,1,31],[38,6,1,31,"TextInput"],[38,15,1,31],[38,18,1,31,"_interopDefault"],[38,33,1,31],[38,34,1,31,"_reactNativeWebDistExportsTextInput"],[38,69,1,31],[39,2,3,15],[39,11,3,24,"useKeyboardManager"],[39,29,3,42,"useKeyboardManager"],[39,30,3,43,"isEnabled"],[39,39,3,52],[39,41,3,54],[40,4,4,2],[41,4,5,2],[42,4,6,2],[42,10,6,8,"previouslyFocusedTextInputRef"],[42,39,6,37],[42,42,6,40,"React"],[42,47,6,45],[42,48,6,46,"useRef"],[42,54,6,52],[42,55,6,53,"undefined"],[42,64,6,62],[42,65,6,63],[43,4,7,2],[43,10,7,8,"startTimestampRef"],[43,27,7,25],[43,30,7,28,"React"],[43,35,7,33],[43,36,7,34,"useRef"],[43,42,7,40],[43,43,7,41],[43,44,7,42],[43,45,7,43],[44,4,8,2],[44,10,8,8,"keyboardTimeoutRef"],[44,28,8,26],[44,31,8,29,"React"],[44,36,8,34],[44,37,8,35,"useRef"],[44,43,8,41],[44,44,8,42],[44,45,8,43],[45,4,9,2],[45,10,9,8,"clearKeyboardTimeout"],[45,30,9,28],[45,33,9,31,"React"],[45,38,9,36],[45,39,9,37,"useCallback"],[45,50,9,48],[45,51,9,49],[45,57,9,55],[46,6,10,4],[46,10,10,8,"keyboardTimeoutRef"],[46,28,10,26],[46,29,10,27,"current"],[46,36,10,34],[46,41,10,39,"undefined"],[46,50,10,48],[46,52,10,50],[47,8,11,6,"clearTimeout"],[47,20,11,18],[47,21,11,19,"keyboardTimeoutRef"],[47,39,11,37],[47,40,11,38,"current"],[47,47,11,45],[47,48,11,46],[48,8,12,6,"keyboardTimeoutRef"],[48,26,12,24],[48,27,12,25,"current"],[48,34,12,32],[48,37,12,35,"undefined"],[48,46,12,44],[49,6,13,4],[50,4,14,2],[50,5,14,3],[50,7,14,5],[50,9,14,7],[50,10,14,8],[51,4,15,2],[51,10,15,8,"onPageChangeStart"],[51,27,15,25],[51,30,15,28,"React"],[51,35,15,33],[51,36,15,34,"useCallback"],[51,47,15,45],[51,48,15,46],[51,54,15,52],[52,6,16,4],[52,10,16,8],[52,11,16,9,"isEnabled"],[52,20,16,18],[52,21,16,19],[52,22,16,20],[52,24,16,22],[53,8,17,6],[54,6,18,4],[55,6,19,4,"clearKeyboardTimeout"],[55,26,19,24],[55,27,19,25],[55,28,19,26],[56,6,20,4],[56,12,20,10,"input"],[56,17,20,15],[56,20,20,18,"TextInput"],[56,29,20,27],[56,30,20,27,"default"],[56,37,20,27],[56,38,20,28,"State"],[56,43,20,33],[56,44,20,34,"currentlyFocusedInput"],[56,65,20,55],[56,66,20,56],[56,67,20,57],[58,6,22,4],[59,6,23,4,"input"],[59,11,23,9],[59,16,23,14],[59,20,23,18],[59,24,23,22,"input"],[59,29,23,27],[59,34,23,32],[59,39,23,37],[59,40,23,38],[59,43,23,41],[59,48,23,46],[59,49,23,47],[59,52,23,50,"input"],[59,57,23,55],[59,58,23,56,"blur"],[59,62,23,60],[59,63,23,61],[59,64,23,62],[61,6,25,4],[62,6,26,4,"previouslyFocusedTextInputRef"],[62,35,26,33],[62,36,26,34,"current"],[62,43,26,41],[62,46,26,44,"input"],[62,51,26,49],[64,6,28,4],[65,6,29,4,"startTimestampRef"],[65,23,29,21],[65,24,29,22,"current"],[65,31,29,29],[65,34,29,32,"Date"],[65,38,29,36],[65,39,29,37,"now"],[65,42,29,40],[65,43,29,41],[65,44,29,42],[66,4,30,2],[66,5,30,3],[66,7,30,5],[66,8,30,6,"clearKeyboardTimeout"],[66,28,30,26],[66,30,30,28,"isEnabled"],[66,39,30,37],[66,40,30,38],[66,41,30,39],[67,4,31,2],[67,10,31,8,"onPageChangeConfirm"],[67,29,31,27],[67,32,31,30,"React"],[67,37,31,35],[67,38,31,36,"useCallback"],[67,49,31,47],[67,50,31,48,"force"],[67,55,31,53],[67,59,31,57],[68,6,32,4],[68,10,32,8],[68,11,32,9,"isEnabled"],[68,20,32,18],[68,21,32,19],[68,22,32,20],[68,24,32,22],[69,8,33,6],[70,6,34,4],[71,6,35,4,"clearKeyboardTimeout"],[71,26,35,24],[71,27,35,25],[71,28,35,26],[72,6,36,4],[72,10,36,8,"force"],[72,15,36,13],[72,17,36,15],[73,8,37,6],[74,8,38,6],[75,8,39,6],[76,8,40,6,"Keyboard"],[76,16,40,14],[76,17,40,14,"default"],[76,24,40,14],[76,25,40,15,"dismiss"],[76,32,40,22],[76,33,40,23],[76,34,40,24],[77,6,41,4],[77,7,41,5],[77,13,41,11],[78,8,42,6],[78,14,42,12,"input"],[78,19,42,17],[78,22,42,20,"previouslyFocusedTextInputRef"],[78,51,42,49],[78,52,42,50,"current"],[78,59,42,57],[80,8,44,6],[81,8,45,6],[82,8,46,6,"input"],[82,13,46,11],[82,18,46,16],[82,22,46,20],[82,26,46,24,"input"],[82,31,46,29],[82,36,46,34],[82,41,46,39],[82,42,46,40],[82,45,46,43],[82,50,46,48],[82,51,46,49],[82,54,46,52,"input"],[82,59,46,57],[82,60,46,58,"blur"],[82,64,46,62],[82,65,46,63],[82,66,46,64],[83,6,47,4],[85,6,49,4],[86,6,50,4,"previouslyFocusedTextInputRef"],[86,35,50,33],[86,36,50,34,"current"],[86,43,50,41],[86,46,50,44,"undefined"],[86,55,50,53],[87,4,51,2],[87,5,51,3],[87,7,51,5],[87,8,51,6,"clearKeyboardTimeout"],[87,28,51,26],[87,30,51,28,"isEnabled"],[87,39,51,37],[87,40,51,38],[87,41,51,39],[88,4,52,2],[88,10,52,8,"onPageChangeCancel"],[88,28,52,26],[88,31,52,29,"React"],[88,36,52,34],[88,37,52,35,"useCallback"],[88,48,52,46],[88,49,52,47],[88,55,52,53],[89,6,53,4],[89,10,53,8],[89,11,53,9,"isEnabled"],[89,20,53,18],[89,21,53,19],[89,22,53,20],[89,24,53,22],[90,8,54,6],[91,6,55,4],[92,6,56,4,"clearKeyboardTimeout"],[92,26,56,24],[92,27,56,25],[92,28,56,26],[94,6,58,4],[95,6,59,4],[95,12,59,10,"input"],[95,17,59,15],[95,20,59,18,"previouslyFocusedTextInputRef"],[95,49,59,47],[95,50,59,48,"current"],[95,57,59,55],[96,6,60,4],[96,10,60,8,"input"],[96,15,60,13],[96,17,60,15],[97,8,61,6],[99,8,63,6],[100,8,64,6],[101,8,65,6],[102,8,66,6],[103,8,67,6],[104,8,68,6],[104,12,68,10,"Date"],[104,16,68,14],[104,17,68,15,"now"],[104,20,68,18],[104,21,68,19],[104,22,68,20],[104,25,68,23,"startTimestampRef"],[104,42,68,40],[104,43,68,41,"current"],[104,50,68,48],[104,53,68,51],[104,56,68,54],[104,58,68,56],[105,10,69,8,"keyboardTimeoutRef"],[105,28,69,26],[105,29,69,27,"current"],[105,36,69,34],[105,39,69,37,"setTimeout"],[105,49,69,47],[105,50,69,48],[105,56,69,54],[106,12,70,10,"input"],[106,17,70,15],[106,22,70,20],[106,26,70,24],[106,30,70,28,"input"],[106,35,70,33],[106,40,70,38],[106,45,70,43],[106,46,70,44],[106,49,70,47],[106,54,70,52],[106,55,70,53],[106,58,70,56,"input"],[106,63,70,61],[106,64,70,62,"focus"],[106,69,70,67],[106,70,70,68],[106,71,70,69],[107,12,71,10,"previouslyFocusedTextInputRef"],[107,41,71,39],[107,42,71,40,"current"],[107,49,71,47],[107,52,71,50,"undefined"],[107,61,71,59],[108,10,72,8],[108,11,72,9],[108,13,72,11],[108,16,72,14],[108,17,72,15],[109,8,73,6],[109,9,73,7],[109,15,73,13],[110,10,74,8,"input"],[110,15,74,13],[110,20,74,18],[110,24,74,22],[110,28,74,26,"input"],[110,33,74,31],[110,38,74,36],[110,43,74,41],[110,44,74,42],[110,47,74,45],[110,52,74,50],[110,53,74,51],[110,56,74,54,"input"],[110,61,74,59],[110,62,74,60,"focus"],[110,67,74,65],[110,68,74,66],[110,69,74,67],[111,10,75,8,"previouslyFocusedTextInputRef"],[111,39,75,37],[111,40,75,38,"current"],[111,47,75,45],[111,50,75,48,"undefined"],[111,59,75,57],[112,8,76,6],[113,6,77,4],[114,4,78,2],[114,5,78,3],[114,7,78,5],[114,8,78,6,"clearKeyboardTimeout"],[114,28,78,26],[114,30,78,28,"isEnabled"],[114,39,78,37],[114,40,78,38],[114,41,78,39],[115,4,79,2,"React"],[115,9,79,7],[115,10,79,8,"useEffect"],[115,19,79,17],[115,20,79,18],[115,26,79,24],[116,6,80,4],[116,13,80,11],[116,19,80,17,"clearKeyboardTimeout"],[116,39,80,37],[116,40,80,38],[116,41,80,39],[117,4,81,2],[117,5,81,3],[117,7,81,5],[117,8,81,6,"clearKeyboardTimeout"],[117,28,81,26],[117,29,81,27],[117,30,81,28],[118,4,82,2],[118,11,82,9],[119,6,83,4,"onPageChangeStart"],[119,23,83,21],[120,6,84,4,"onPageChangeConfirm"],[120,25,84,23],[121,6,85,4,"onPageChangeCancel"],[122,4,86,2],[122,5,86,3],[123,2,87,0],[124,0,87,1],[124,3]],"functionMap":{"names":["<global>","useKeyboardManager","clearKeyboardTimeout","onPageChangeStart","onPageChangeConfirm","onPageChangeCancel","setTimeout$argument_0","React.useEffect$argument_0","<anonymous>"],"mappings":"AAA;eCE;iDCM;GDK;8CEC;GFe;gDGC;GHoB;+CIC;gDCiB;SDG;GJM;kBMC;WCC,4BD;GNC;CDM"},"hasCjsExports":false},"type":"js/module"}]}