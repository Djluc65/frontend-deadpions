{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return createMigrate;\n    }\n  });\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  function createMigrate(migrations, config) {\n    var _ref = config || {},\n      debug = _ref.debug;\n    return function (state, currentVersion) {\n      if (!state) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: no inbound state, skipping migration');\n        return Promise.resolve(undefined);\n      }\n      var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : _constants.DEFAULT_VERSION;\n      if (inboundVersion === currentVersion) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: versions match, noop migration');\n        return Promise.resolve(state);\n      }\n      if (inboundVersion > currentVersion) {\n        if (process.env.NODE_ENV !== 'production') console.error('redux-persist: downgrading version is not supported');\n        return Promise.resolve(state);\n      }\n      var migrationKeys = Object.keys(migrations).map(function (ver) {\n        return parseInt(ver);\n      }).filter(function (key) {\n        return currentVersion >= key && key > inboundVersion;\n      }).sort(function (a, b) {\n        return a - b;\n      });\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: migrationKeys', migrationKeys);\n      try {\n        var migratedState = migrationKeys.reduce(function (state, versionKey) {\n          if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: running migration for versionKey', versionKey);\n          return migrations[versionKey](state);\n        }, state);\n        return Promise.resolve(migratedState);\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    };\n  }\n});","lineCount":50,"map":[[7,2,2,15,"Object"],[7,8,2,15],[7,9,2,15,"defineProperty"],[7,23,2,15],[7,24,2,15,"exports"],[7,31,2,15],[8,4,2,15,"enumerable"],[8,14,2,15],[9,4,2,15,"get"],[9,7,2,15],[9,18,2,15,"get"],[9,19,2,15],[10,6,2,15],[10,13,2,15,"createMigrate"],[10,26,2,15],[11,4,2,15],[12,2,2,15],[13,2,1,0],[13,6,1,0,"_constants"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,15],[14,11,2,24,"createMigrate"],[14,24,2,37,"createMigrate"],[14,25,2,38,"migrations"],[14,35,2,48],[14,37,2,50,"config"],[14,43,2,56],[14,45,2,58],[15,4,3,2],[15,8,3,6,"_ref"],[15,12,3,10],[15,15,3,13,"config"],[15,21,3,19],[15,25,3,23],[15,26,3,24],[15,27,3,25],[16,6,4,6,"debug"],[16,11,4,11],[16,14,4,14,"_ref"],[16,18,4,18],[16,19,4,19,"debug"],[16,24,4,24],[17,4,6,2],[17,11,6,9],[17,21,6,19,"state"],[17,26,6,24],[17,28,6,26,"currentVersion"],[17,42,6,40],[17,44,6,42],[18,6,7,4],[18,10,7,8],[18,11,7,9,"state"],[18,16,7,14],[18,18,7,16],[19,8,8,6],[19,12,8,10,"process"],[19,19,8,17],[19,20,8,18,"env"],[19,23,8,21],[19,24,8,22,"NODE_ENV"],[19,32,8,30],[19,37,8,35],[19,49,8,47],[19,53,8,51,"debug"],[19,58,8,56],[19,60,8,58,"console"],[19,67,8,65],[19,68,8,66,"log"],[19,71,8,69],[19,72,8,70],[19,125,8,123],[19,126,8,124],[20,8,9,6],[20,15,9,13,"Promise"],[20,22,9,20],[20,23,9,21,"resolve"],[20,30,9,28],[20,31,9,29,"undefined"],[20,40,9,38],[20,41,9,39],[21,6,10,4],[22,6,12,4],[22,10,12,8,"inboundVersion"],[22,24,12,22],[22,27,12,25,"state"],[22,32,12,30],[22,33,12,31,"_persist"],[22,41,12,39],[22,45,12,43,"state"],[22,50,12,48],[22,51,12,49,"_persist"],[22,59,12,57],[22,60,12,58,"version"],[22,67,12,65],[22,72,12,70,"undefined"],[22,81,12,79],[22,84,12,82,"state"],[22,89,12,87],[22,90,12,88,"_persist"],[22,98,12,96],[22,99,12,97,"version"],[22,106,12,104],[22,109,12,107,"DEFAULT_VERSION"],[22,119,12,122],[22,120,12,122,"DEFAULT_VERSION"],[22,135,12,122],[23,6,14,4],[23,10,14,8,"inboundVersion"],[23,24,14,22],[23,29,14,27,"currentVersion"],[23,43,14,41],[23,45,14,43],[24,8,15,6],[24,12,15,10,"process"],[24,19,15,17],[24,20,15,18,"env"],[24,23,15,21],[24,24,15,22,"NODE_ENV"],[24,32,15,30],[24,37,15,35],[24,49,15,47],[24,53,15,51,"debug"],[24,58,15,56],[24,60,15,58,"console"],[24,67,15,65],[24,68,15,66,"log"],[24,71,15,69],[24,72,15,70],[24,119,15,117],[24,120,15,118],[25,8,16,6],[25,15,16,13,"Promise"],[25,22,16,20],[25,23,16,21,"resolve"],[25,30,16,28],[25,31,16,29,"state"],[25,36,16,34],[25,37,16,35],[26,6,17,4],[27,6,19,4],[27,10,19,8,"inboundVersion"],[27,24,19,22],[27,27,19,25,"currentVersion"],[27,41,19,39],[27,43,19,41],[28,8,20,6],[28,12,20,10,"process"],[28,19,20,17],[28,20,20,18,"env"],[28,23,20,21],[28,24,20,22,"NODE_ENV"],[28,32,20,30],[28,37,20,35],[28,49,20,47],[28,51,20,49,"console"],[28,58,20,56],[28,59,20,57,"error"],[28,64,20,62],[28,65,20,63],[28,118,20,116],[28,119,20,117],[29,8,21,6],[29,15,21,13,"Promise"],[29,22,21,20],[29,23,21,21,"resolve"],[29,30,21,28],[29,31,21,29,"state"],[29,36,21,34],[29,37,21,35],[30,6,22,4],[31,6,24,4],[31,10,24,8,"migrationKeys"],[31,23,24,21],[31,26,24,24,"Object"],[31,32,24,30],[31,33,24,31,"keys"],[31,37,24,35],[31,38,24,36,"migrations"],[31,48,24,46],[31,49,24,47],[31,50,24,48,"map"],[31,53,24,51],[31,54,24,52],[31,64,24,62,"ver"],[31,67,24,65],[31,69,24,67],[32,8,25,6],[32,15,25,13,"parseInt"],[32,23,25,21],[32,24,25,22,"ver"],[32,27,25,25],[32,28,25,26],[33,6,26,4],[33,7,26,5],[33,8,26,6],[33,9,26,7,"filter"],[33,15,26,13],[33,16,26,14],[33,26,26,24,"key"],[33,29,26,27],[33,31,26,29],[34,8,27,6],[34,15,27,13,"currentVersion"],[34,29,27,27],[34,33,27,31,"key"],[34,36,27,34],[34,40,27,38,"key"],[34,43,27,41],[34,46,27,44,"inboundVersion"],[34,60,27,58],[35,6,28,4],[35,7,28,5],[35,8,28,6],[35,9,28,7,"sort"],[35,13,28,11],[35,14,28,12],[35,24,28,22,"a"],[35,25,28,23],[35,27,28,25,"b"],[35,28,28,26],[35,30,28,28],[36,8,29,6],[36,15,29,13,"a"],[36,16,29,14],[36,19,29,17,"b"],[36,20,29,18],[37,6,30,4],[37,7,30,5],[37,8,30,6],[38,6,31,4],[38,10,31,8,"process"],[38,17,31,15],[38,18,31,16,"env"],[38,21,31,19],[38,22,31,20,"NODE_ENV"],[38,30,31,28],[38,35,31,33],[38,47,31,45],[38,51,31,49,"debug"],[38,56,31,54],[38,58,31,56,"console"],[38,65,31,63],[38,66,31,64,"log"],[38,69,31,67],[38,70,31,68],[38,100,31,98],[38,102,31,100,"migrationKeys"],[38,115,31,113],[38,116,31,114],[39,6,33,4],[39,10,33,8],[40,8,34,6],[40,12,34,10,"migratedState"],[40,25,34,23],[40,28,34,26,"migrationKeys"],[40,41,34,39],[40,42,34,40,"reduce"],[40,48,34,46],[40,49,34,47],[40,59,34,57,"state"],[40,64,34,62],[40,66,34,64,"versionKey"],[40,76,34,74],[40,78,34,76],[41,10,35,8],[41,14,35,12,"process"],[41,21,35,19],[41,22,35,20,"env"],[41,25,35,23],[41,26,35,24,"NODE_ENV"],[41,34,35,32],[41,39,35,37],[41,51,35,49],[41,55,35,53,"debug"],[41,60,35,58],[41,62,35,60,"console"],[41,69,35,67],[41,70,35,68,"log"],[41,73,35,71],[41,74,35,72],[41,123,35,121],[41,125,35,123,"versionKey"],[41,135,35,133],[41,136,35,134],[42,10,36,8],[42,17,36,15,"migrations"],[42,27,36,25],[42,28,36,26,"versionKey"],[42,38,36,36],[42,39,36,37],[42,40,36,38,"state"],[42,45,36,43],[42,46,36,44],[43,8,37,6],[43,9,37,7],[43,11,37,9,"state"],[43,16,37,14],[43,17,37,15],[44,8,38,6],[44,15,38,13,"Promise"],[44,22,38,20],[44,23,38,21,"resolve"],[44,30,38,28],[44,31,38,29,"migratedState"],[44,44,38,42],[44,45,38,43],[45,6,39,4],[45,7,39,5],[45,8,39,6],[45,15,39,13,"err"],[45,18,39,16],[45,20,39,18],[46,8,40,6],[46,15,40,13,"Promise"],[46,22,40,20],[46,23,40,21,"reject"],[46,29,40,27],[46,30,40,28,"err"],[46,33,40,31],[46,34,40,32],[47,6,41,4],[48,4,42,2],[48,5,42,3],[49,2,43,0],[50,0,43,1],[50,3]],"functionMap":{"names":["<global>","createMigrate","<anonymous>","Object.keys.map$argument_0","Object.keys.map.filter$argument_0","Object.keys.map.filter.sort$argument_0","migrationKeys.reduce$argument_0"],"mappings":"AAA;eCC;SCI;oDCkB;KDE,SE;KFE,OG;KHE;+CII;OJG;GDK"},"hasCjsExports":false},"type":"js/module"}]}